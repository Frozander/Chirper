{% extends "base.html" %}

{% block content %}
<div class="container">

    {% with messages = get_flashed_messages(with_categories=true) %}
    <!-- Categories: success (green), info (blue), warning (yellow), danger (red) -->
    {% if messages %}
    {% for category, message in messages %}
    <div class="alert alert-{{ category }} alert-dismissible" role="alert">
        <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span
                aria-hidden="true">&times;</span></button>
        <!-- <strong>Title</strong> --> {{ message }}
    </div>
    {% endfor %}
    {% endif %}
    {% endwith %}

    <hr class="solid">

    <article>
        <header>
            <h1>{{ post.title }}</h1>
            <b>
                by {{ post.author_name.username }}
            </b>
        </header>
        <hr>
        <p class="body">
            {{ post.body }}
        </p>

        <div class="row-fluid">
            {% if current_user.has_liked_post(post) %}
            <a href="{{ url_for('posts.like_action', post_id=post.id, action='unlike') }}">
                <span class="glyphicon glyphicon-heart"></span>
            </a>
            {% else %}
            <a href="{{ url_for('posts.like_action', post_id=post.id, action='like') }}">
                <span class="glyphicon glyphicon-heart-empty"></span>
            </a>
            {% endif %}

            {{ post.likes.count() }} Likes
            &nbsp;&nbsp;&nbsp;&nbsp;
            <a href="{{ url_for('posts.post_page', id=post.id) }}#Comments">
                <span class="glyphicon glyphicon glyphicon-comment"></span>
            </a>
            {{ range(1, 10) | random }} Comments
            {% if current_user.id == post.author_id %}
            &nbsp;&nbsp;&nbsp;&nbsp;
            <a aria-hidden="true" href="{{ url_for('posts.edit', id=post.id, next=request.path) }}">
                <span class="glyphicon glyphicon-pencil"></span>
            </a>
            {% endif %}
        </div>
        <hr>
    </article>
    <div class="comment-section" id="Comments">
        <h2>COMMENT SECTION PLACEHOLDER</h2>
    </div>
</div>

{% endblock %}